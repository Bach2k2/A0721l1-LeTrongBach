<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mô phỏng câu chuyện adam và eva</title>
</head>
<body>
<pre style="font-family: 'Times New Roman'">Có một trái táo trong vườn cấm, Adam và Eva quyết định chia cho mỗi người một miếng cho đến khi táo hết sạch.
Táo rất ngon nhưng tiếc chỉ có 10 miếng cho mỗi người 5 miếng.</pre>
<div id="conversation"></div>
<p id="Adam"></p>
<p id="Eva"></p>
<script>
    class Apple {

        constructor(weight) {
            this.weight = weight;
        }

        decrease = function (weight) {
            weight--;
            return weight;
        }
        isEmpty = function (weight) {
            if (weight == 0) return true;
            else return false
        }

        getWeight() {
            return this.weight
        }
    }

    //Low
    class Human {
        constructor(name, gender, weight) {
            this.name = name;
            this.gender = gender;
            this.weight = weight;
        }

        isMale = function (gender) {
            if (gender === "male") return true;
            else return false;
        }
        setGender = function (check) {

            if (check) this.gender = "male";
            else this.gender = "female";
        }

        checkApple = function (Apple) {
            if (!Apple.isEmpty()) return true;
            else return false;
        }

        eat = function (Apple) {
            Apple.decrease();
            this.weight++;
        }
        say = function (speech) {
            document.getElementById("conversation").innerHTML += this.name + ' nói: "' + speech + '"<br>'
        }
        getName = function () {
            return this.name;
        }
        setName = function (string) {
            this.name = string;
        }
        getWeight = function () {
            return this.weight;
        }
        setWeight = function (weight) {
            this.weight = weight;
        }
    }

    let apple = new Apple(10);
    let person = new Human();// tạo một đối tượng khác là 1 trong Adam hoặc Eva - Đối tượng chỉ dùng để gọi
    let adam = new Human();
    adam.setName("Adam");
    adam.setGender(true);
    adam.setWeight(60);
    adam.say("Em hãy ăn đi.");
    let eva = new Human();
    eva.setName("Eva");
    eva.setGender(false);
    eva.setWeight(50);
    eva.say("Anh ăn trước đi, nãy giờ chạy anh cũng mệt rồi");
    adam.say("Cảm ơn em. Vậy anh ăn trước nhé!");
    let appleWeight = apple.getWeight();
    alert("Khối lượng táo ban đầu: "+ appleWeight);
    let AdamWeight = adam.getWeight();
    let EvaWeight = eva.getWeight();
    let gender = person.setGender(true);
    do {
        console.log(appleWeight);
        if (person.isMale(gender) && person.checkApple(apple)) {
            adam.eat(apple);
            appleWeight = apple.decrease(appleWeight);
            AdamWeight++;
            gender = "female";
        } else if (!person.isMale(gender) && person.checkApple(apple)) {
            eva.eat(apple);
            appleWeight = apple.decrease(appleWeight);
            EvaWeight++;
            gender = "male";
        } else {
        }
    } while (!apple.isEmpty(appleWeight));
    alert("Câu chuyện: Chương táo đã hết");
    document.getElementById("Adam").innerHTML = "\nCân nặng của Adam sau khi ăn táo: " + AdamWeight+" kg";
    document.getElementById("Eva").innerHTML = "\nCân nặng của Eva sau khi ăn táo: " + EvaWeight+" kg";
</script>
</body>
</html>